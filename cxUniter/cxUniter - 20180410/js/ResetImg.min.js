function ResetImg(j,m,e){var p=this;this.wrapId=j;this.config={getImgSize:"auto",wrapSize:null,imgSizeClass:{wc:"zimgList_imgw100",hc:"zimgList_imgh100",imgBox:".swiper-slide"}};this.running=false;if(m){if(m.imgSizeClass){for(o in this.config.imgSizeClass){for(s in m.imgSizeClass){if(o==s){this.config.imgSizeClass[o]=m.imgSizeClass[s]}else{}}}}m.imgSizeClass=this.config.imgSizeClass;for(v in this.config){for(b in m){if(v==b){this.config[v]=m[b]}else{this.config[b]=m[b]}}}}else{}if(!this.config.wrapSize){if(!(document.querySelector(this.wrapId))){alert("限定范围id错误");return false}else{}if(document.querySelector(this.wrapId).querySelector(this.config.imgSizeClass.imgBox)){this.config.wrapSize={w:document.querySelector(this.wrapId).querySelector(this.config.imgSizeClass.imgBox).clientWidth,h:document.querySelector(this.wrapId).querySelector(this.config.imgSizeClass.imgBox).clientHeight}}else{this.config.wrapSize={w:document.querySelector(this.wrapId).querySelector(".zsh_addImg").clientWidth,h:document.querySelector(this.wrapId).querySelector(".zsh_addImg").clientHeight}}}else{}this.imgArray=[];var k=document.querySelector(this.wrapId).querySelectorAll("img");for(var f=0;f<k.length;f++){this.imgArray.push(k[f])}this.imgSize=[];this.imgObj=[];this.clear=[];function c(t,q){p.imgSize[t].w=p.imgObj[t].width;p.imgSize[t].h=p.imgObj[t].height;if(p.imgSize[t].w>0&&(p.imgObj[t].complete||p.imgObj[t].onload)){if(p.clear[t]){clearInterval(p.clear[t])}if(p.config.wrapSize.w/p.config.wrapSize.h>p.imgSize[t].w/p.imgSize[t].h){p.imgArray[t].parentElement.classList.add(p.config.imgSizeClass.wc);var r=Math.floor((p.config.wrapSize.w/p.imgSize[t].w*p.imgSize[t].h-p.config.wrapSize.h)/2)*-1;p.imgArray[t].style.marginTop=r+"px"}else{p.imgArray[t].parentElement.classList.add(p.config.imgSizeClass.hc);var i=Math.floor((p.config.wrapSize.h/p.imgSize[t].h*p.imgSize[t].w-p.config.wrapSize.w)/2)*-1;p.imgArray[t].style.marginLeft=i+"px"}d(0)}if((new Date()*1-q)>1500){if(p.clear[t]){clearInterval(p.clear[t])}d(t+=1)}}function d(q){var h=new Date()*1;this.running=true;if(q<p.imgArray.length){p.imgSize[q]={w:0,h:0};p.imgObj[q]=new Image();p.imgObj[q].src=p.imgArray[q].getAttribute("src");if(p.clear[q]){clearInterval(p.clear[q])}p.clear[q]=setInterval(function(){c(q,h)},10)}else{this.running=false;return}}if(!e){if(this.config.getImgSize=="auto"){d(0)}else{for(var f=0;f<this.imgArray.length;f++){var n=this.imgArray[f].getAttribute("src");var a=n.substr(n.lastIndexOf("?")+1).split(/w|h/).splice(1,2);if(this.config.wrapSize.w/this.config.wrapSize.h>a[0]/a[1]){this.imgArray[f].parentElement.classList.add(this.config.imgSizeClass.wc);var g=Math.floor((this.config.wrapSize.w/a[0]*a[1]-this.config.wrapSize.h)/2)*-1;this.imgArray[f].style.marginTop=g+"px"}else{this.imgArray[f].parentElement.classList.add(this.config.imgSizeClass.hc);var l=Math.floor((this.config.wrapSize.h/a[1]*a[0]-this.config.wrapSize.w)/2)*-1;this.imgArray[f].style.marginLeft=l+"px"}}}}this.upDateImg=function(h){if(h&&h instanceof Array){for(var i=0;i<h.length;i++){this.imgArray.push(document.querySelector(h[i]))}}else{if(h&&document.querySelector(h)!=null){this.imgArray.push(document.querySelector(h))}else{alert("获取id错误！格式: #defaultId")}}if(!(this.running)&&this.imgArray[0]!=null){d(0)}else{}}};