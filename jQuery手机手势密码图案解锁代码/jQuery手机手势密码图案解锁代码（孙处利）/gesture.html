<!DOCTYPE html>
<html>
	<head>
		<meta charset="{CHARSET}">
		<title></title>
	</head>
	<body>
		<canvas id="mc" width="420" height="420"></canvas>
		<script>
			var xMenu = { 
				1:69,2:207,3:345,
				4:69,5:207,6:345,
				7:69,8:207,9:345,
			};  
			var yMenu = { 
				1:69,2:69,3:69,
				4:207,5:207,6:207,
				7:345,8:345,9:345
			};
			this.ceshi=function(str){
				for (i = 0; i < str.length; i++){
					this.circle(xMenu[str[i]],yMenu[str[i]]);
					this.point(xMenu[str[i]],yMenu[str[i]]);
				}
				this.line(str);
				this.arrow(str)
			}
			var c=document.getElementById("mc");
			var ctx=c.getContext("2d");
			this.circle=function(x,y){
				//以下是画圆形 实心或边线
				ctx.beginPath();
				ctx.arc(x,y,50,0,2*Math.PI);
				ctx.lineWidth=1
				ctx.strokeStyle="#fec51f"
			    ctx.stroke() ;
			}
			this.point = function(x,y){
				//小圈
				ctx.beginPath();
				ctx.arc(x,y,10,0,2*Math.PI);
				ctx.lineWidth=2
				ctx.fillStyle="#fec51f"
				ctx.fill();
			}
			this.line =function(str){
				ctx.beginPath();
				for (i = 0; i < str.length; i++){
					if(i==0){
						ctx.moveTo(xMenu[str[i]],yMenu[str[i]]);
					}else{
						ctx.lineTo(xMenu[str[i]],yMenu[str[i]]);
					}
				}
				//以下是画线
				ctx.lineWidth=6;
				ctx.strokeStyle="rgba(254,197,31,0.8)"
				ctx.stroke();
			}
			this.arrow=function(str){
				for (i = 0; i < str.length; i++){
					// if(i==0){
						// ctx.moveTo(xMenu[str[i]],yMenu[str[i]]);
					// }else{
			            var endRadians = Math.atan((yMenu[str[i]] - yMenu[str[i-1]]) / (xMenu[str[i]] - xMenu[str[i-1]]));
						endRadians += ((xMenu[str[i]] >= xMenu[str[i-1]]) ? 90 : -90) * Math.PI / 180;
						drawArrowhead(xMenu[str[i-1]], yMenu[str[i-1]], endRadians);
					// }
				}
			}
			var drawArrowhead=function(x,y,radians){
	            ctx.save();
				ctx.beginPath();
				ctx.translate(x, y);
				ctx.rotate(radians);
				ctx.moveTo(10,-25);
				ctx.lineTo(0, -45);
				ctx.lineTo(-10, -25);
				//右箭头
//				ctx.moveTo(0, 5);
//				ctx.lineTo(5, 20);
//				ctx.lineTo(-5, 20);
				ctx.closePath();
				ctx.restore();
//				ctx.fillStyle="rgba(254,197,31,0.5)"
				ctx.fill();
	        }
			this.ceshi('1236578');
		</script>
	</body>
</html>
